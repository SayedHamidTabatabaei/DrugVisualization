{% extends 'base.html' %}

{% block title %}Compare - {% endblock %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/grid.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/button.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/dropdown.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/spinner.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/checkbox.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/tab.css') }}">

{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='js/spinner.js') }}"></script>
<script src="{{ url_for('static', filename='js/fill_train_model_dropdown.js') }}"></script>
<script src="{{ url_for('static', filename='js/compare.js') }}"></script>
{% endblock %}


{% block content %}
<h2>Comparing Training data</h2>

<!-- Dropdown and button -->
<div>
    <div class="property-container">
        <label for="trainModelSelect" class="label-for">Choose a property:</label>

        <select id="trainModelSelect">
            <option value="">--Select an property--</option>
            <!-- Add more options as needed -->
        </select>
        <button id="submitBtn" onclick="get_history()">Submit</button>
    </div>

    <div id="loadingSpinner" class="spinner" style="display: none;"></div>

</div>
<div class="grid-container">
    <table id="selectableTrainTable" class="datagrid-table; display">
        <thead>
            <tr>
                <th>Check</th>
                <th>Id</th>
                <th>Train model</th>
                <th>F1 Score</th>
                <th>Accuracy</th>
                <th>Loss</th>
                <th>AUC</th>
                <th>AUPR</th>
                <th>Execute Time</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be populated by DataTables -->
        </tbody>
    </table>
</div>

<div class="tab-container">
    <div class="tab-row">
        <div class="tab-label" style="flex-basis: 55%;">Main results</div>
        <div class="tab-label" style="flex-basis: 45%;">Per Category results</div>
    </div>

    <div class="tab-row">
        <div id="accuracy" class="tab active" onclick="openTab(event, 'accuracy-tab');fill_comparing_plot('accuracy');">Accuracy</div>
        <div id="loss" class="tab" onclick="openTab(event, 'loss-tab');fill_comparing_plot('loss');">Loss</div>
        <div id="auc" class="tab" onclick="openTab(event, 'auc-tab');fill_comparing_plot('auc');">AUC</div>
        <div id="aupr" class="tab" onclick="openTab(event, 'aupr-tab');fill_comparing_plot('aupr');">AUPR</div>
        <div id="f1_score" class="tab" onclick="openTab(event, 'f1_score-tab');fill_comparing_plot('f1_score');">F1 Score</div>

        <div id="details_accuracy" class="tab" onclick="openTab(event, 'details_accuracy-tab');fill_comparing_plot('details_accuracy');">Accuracy</div>
        <div id="details_auc" class="tab" onclick="openTab(event, 'details_auc-tab');fill_comparing_plot('details_auc');">AUC</div>
        <div id="details_aupr" class="tab" onclick="openTab(event, 'details_aupr-tab');fill_comparing_plot('details_aupr');">AUPR</div>
        <div id="details_f1_score" class="tab" onclick="openTab(event, 'details_f1_score-tab');fill_comparing_plot('details_f1_score');">F1 Score</div>
    </div>
    <div id="accuracy-tab" class="tab-content active">
        <div id="accuracy-container">
            <img width="500px;" id="accuracy-plot"/>
            <table id="accuracy-table" class="display">
                <thead>
                    <tr id="accuracy-tableHeaders"></tr>
                </thead>
                <tbody id="accuracy-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="loss-tab" class="tab-content">
        <div id="loss-container">
            <img width="500px;" id="loss-plot"/>
            <table id="loss-table" class="display">
                <thead>
                    <tr id="loss-tableHeaders"></tr>
                </thead>
                <tbody id="loss-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="auc-tab" class="tab-content">
        <div id="auc-container">
            <img width="500px;" id="auc-plot"/>
            <table id="auc-table" class="display">
                <thead>
                    <tr id="auc-tableHeaders"></tr>
                </thead>
                <tbody id="auc-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="aupr-tab" class="tab-content">
        <div id="aupr-container">
            <img width="500px;" id="aupr-plot"/>
            <table id="aupr-table" class="display">
                <thead>
                    <tr id="aupr-tableHeaders"></tr>
                </thead>
                <tbody id="aupr-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="f1_score-tab" class="tab-content">
        <div id="f1_score-container">
            <img width="500px;" id="f1_score-plot"/>
            <table id="f1_score-table" class="display">
                <thead>
                    <tr id="f1_score-tableHeaders"></tr>
                </thead>
                <tbody id="f1_score-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="details_accuracy-tab" class="tab-content">
        <div id="details_accuracy-container">
            <img width="500px;" id="details_accuracy-plot"/>
            <table id="details_accuracy-table" class="display">
                <thead>
                    <tr id="details_accuracy-tableHeaders"></tr>
                </thead>
                <tbody id="details_accuracy-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="details_auc-tab" class="tab-content">
        <div id="details_auc-container">
            <img width="500px;" id="details_auc-plot"/>
            <table id="details_auc-table" class="display">
                <thead>
                    <tr id="details_auc-tableHeaders"></tr>
                </thead>
                <tbody id="details_auc-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="details_aupr-tab" class="tab-content">
        <div id="details_aupr-container">
            <img width="500px;" id="details_aupr-plot"/>
            <table id="details_aupr-table" class="display">
                <thead>
                    <tr id="details_aupr-tableHeaders"></tr>
                </thead>
                <tbody id="details_aupr-tableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="details_f1_score-tab" class="tab-content">
        <div id="details_f1_score-container">
            <img width="500px;" id="details_f1_score-plot"/>
            <table id="details_f1_score-table" class="display">
                <thead>
                    <tr id="details_f1_score-tableHeaders"></tr>
                </thead>
                <tbody id="details_f1_score-tableBody"></tbody>
            </table>
        </div>
    </div>
</div>

<div id="plots"></div>

{% endblock %}
